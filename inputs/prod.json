{
  "apiVersion": "v1beta3",
  "kind": "BuildConfig",
  "metadata": {
    "name": "{{NAME}}",
    "labels": {
      "is_autorebuild": "false"
    }
  },
  "spec": {
    "source": {
      "type": "Git",
      "git": {
        "uri": "{{GIT_URI}}",
        "ref": "{{GIT_REF}}"
      },
      "sourceSecret": {
        "name": "{{SOURCE_SECRET}}"
      },
      "sourceSecretName": "{{SOURCE_SECRET}}"
    },
    "output": {
      "to": {
        "kind": "DockerImage",
        "name": "{{REGISTRY_URI}}/{{OUTPUT_IMAGE_TAG}}"
      }
    },
    "strategy": {
      "type": "Custom",
      "customStrategy": {
        "from": {
          "kind": "DockerImage",
          "name": "buildroot:latest"
        },
        "exposeDockerSocket": true,
        "env": [{
          "name": "DOCK_PLUGINS",
          "value": "TBD"
        }]
      }
    }
  }
}
